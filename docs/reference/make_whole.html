<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Constructs a continuous, uninterrupted time series of temperatures. — make_whole • heatwaveR</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Constructs a continuous, uninterrupted time series of temperatures. — make_whole" />

<meta property="og:description" content="Takes a series of dates and temperatures, and if irregular (but ordered), inserts
missing dates and fills correpsonding temperatures with NAs." />

<meta property="og:image" content="https://robwschlegel.github.io/heatwaveR/index.html/logo.png" />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-118123016-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-118123016-1');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">heatwaveR</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.7.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/OISST_preparation.html">OISST preparation</a>
    </li>
    <li>
      <a href="../articles/gridded_event_detection.html">Extreme event detection in gridded data</a>
    </li>
    <li>
      <a href="../articles/Climatologies_and_baselines.html">Climatologies and baselines</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/robwschlegel/heatwaveR">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Constructs a continuous, uninterrupted time series of temperatures.</h1>
    
    <div class="hidden name"><code>make_whole.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Takes a series of dates and temperatures, and if irregular (but ordered), inserts
missing dates and fills correpsonding temperatures with NAs.</p>
    
    </div>

    <pre class="usage"><span class='fu'>make_whole</span>(<span class='no'>data</span>, <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>t</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>temp</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame with columns for date and temperature data.
Ordered daily data are expected, and although missing values (NA) can be
accommodated, the function is only recommended when NAs occur infrequently,
preferably at no more than 3 consecutive days.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>A column with the daily time vector (see details). For backwards
compatibility, the column is named <code>t</code> by default.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>A column with the response vector. RmarineHeatWaves version &lt;= 0.15.9
assumed that this would be daily seawater temperatures, but as of version 0.16.0
it may be any arbitrary measurement taken at a daily frequency. The default
remains temperature, and the default column name is therefore <code>temp</code>, again
hopefully ensuring backwards compatibility.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function will return a data frame with three columns. The column
headed <code>doy</code> (day-of-year) is the Julian day running from 1 to 366, but
modified so that the day-of-year series for non-leap-years runs 1...59 and
then 61...366. For leap years the 60th day is February 29. See the example,
below. The other two columns take the names of <code>x</code> and <code>y</code>, if supplied,
or it will be <code>t</code> and <code>temp</code> in case the default values were used.
The <code>x</code> (or <code>t</code>) column is a series of dates of class <code>Date</code>,
while <code>y</code> (or <code>temp</code>) is the measured variable. This time series will
be uninterrupted and continuous daily values between the first and last dates
of the input data.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Upon import, the package uses `zoo` and `lubridate` to process the input
date and temperature data. It reads in daily data with the time vector
specified as either <code>POSIXct</code> or <code>Date</code>  (e.g. "1982-01-01 02:00:00" or
"1982-01-01"). The data may be an irregular time series, but date must be
ordered. The function constructs a complete time series from the start date
to the end date, and fills in the regions in the time series where temperature
data are missing, with NAs in the temperature vector. There must only be one
temperature value per day otherwise the function will fail. It is up to the
user to calculate daily data from sub-daily measurements. Leap years are
automatically accommodated by 'zoo'.</p>
<p>This function can handle some of missing days, but this is not a
licence to actually use these data for the detection of anomalous thermal
events. Hobday et al. (2016) recommend gaps of no more than 3 days, which
may be adjusted by setting the <code>max_pad_length</code> argument of the
<code><a href='detect.html'>detect</a></code> function. The longer and more frequent the gaps become
the lower the fidelity of the annual climatology and threshold that can be
calculated, which will not only have repercussions for the accuracy at which
the event metrics can be determined, but also for the number of events that
can be detected.</p>
<p>It is recommended that a climatology period of at least 30 years is specified
in order to capture any decadal thermal periodicities.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='no'>dplyr</span>); <span class='fu'>library</span>(<span class='no'>tidyr</span>); <span class='fu'>library</span>(<span class='no'>lubridate</span>)</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘dplyr’</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:testthat’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    matches</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:stats’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    filter, lag</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:base’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    intersect, setdiff, setequal, union</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘lubridate’</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:base’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    date</span></div><div class='input'><span class='no'>ts_dat</span> <span class='kw'>&lt;-</span> <span class='fu'>make_whole</span>(<span class='no'>sst_WA</span>) <span class='co'># default columns "t" and "temp", in that order</span>
<span class='no'>clim_start</span> <span class='kw'>&lt;-</span> <span class='st'>"1983-01-01"</span>
<span class='no'>clim_end</span> <span class='kw'>&lt;-</span> <span class='st'>"2012-12-31"</span>
<span class='no'>ts_dat</span> <span class='kw'>%&gt;%</span>
<span class='fu'><a href='http://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>t</span> <span class='kw'>&gt;=</span> <span class='no'>clim_start</span> <span class='kw'>&amp;</span> <span class='no'>t</span> <span class='kw'>&lt;=</span> <span class='no'>clim_end</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='http://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(<span class='kw'>t</span> <span class='kw'>=</span> <span class='fu'><a href='http://lubridate.tidyverse.org/reference/year.html'>year</a></span>(<span class='no'>t</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='http://www.rdocumentation.org/packages/tidyr/topics/spread'>spread</a></span>(<span class='no'>t</span>, <span class='no'>temp</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='http://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>doy</span> <span class='kw'>&gt;=</span> <span class='fl'>55</span> <span class='kw'>&amp;</span> <span class='no'>doy</span> <span class='kw'>&lt;=</span> <span class='fl'>65</span>)</div><div class='output co'>#&gt;    doy  1983  1984  1985  1986  1987  1988  1989  1990  1991  1992  1993  1994
#&gt; 1   55 23.13 25.25 24.37 22.65 22.47 23.26 24.23 23.85 21.87 23.00 21.30 21.45
#&gt; 2   56 23.47 25.00 24.21 22.51 22.54 23.38 24.07 25.02 21.83 22.89 21.06 21.11
#&gt; 3   57 23.65 23.65 24.34 22.32 22.49 23.46 24.18 25.01 21.82 23.76 20.81 21.15
#&gt; 4   58 23.67 23.80 24.39 22.36 21.95 23.62 24.08 24.10 21.84 23.75 20.98 21.39
#&gt; 5   59 23.76 24.27 24.08 22.37 22.59 23.89 23.85 23.49 21.99 23.34 21.08 21.65
#&gt; 6   60    NA 24.63    NA    NA    NA 23.80    NA    NA    NA 23.19    NA    NA
#&gt; 7   61 24.39 24.76 24.10 22.47 22.80 23.56 23.96 23.07 22.55 22.91 22.78 22.00
#&gt; 8   62 24.07 23.83 23.94 22.71 22.84 23.50 24.08 22.82 21.96 22.64 22.47 22.04
#&gt; 9   63 23.26 23.71 23.71 23.20 22.53 23.29 24.27 23.00 21.83 22.11 21.95 21.95
#&gt; 10  64 22.98 23.42 24.02 23.25 22.00 23.35 24.32 23.13 21.79 21.98 21.57 21.83
#&gt; 11  65 23.21 23.50 24.07 23.27 22.03 23.34 24.37 23.00 21.46 21.89 21.68 21.84
#&gt;     1995  1996  1997  1998  1999  2000  2001  2002  2003  2004  2005  2006
#&gt; 1  24.33 23.06 22.64 22.97 24.04 22.91 22.96 23.41 23.03 21.96 21.88 20.93
#&gt; 2  23.93 22.81 24.76 22.01 24.62 23.04 22.99 23.48 23.06 21.95 21.83 20.93
#&gt; 3  23.75 22.50 24.72 22.06 24.61 23.13 22.77 23.03 23.34 22.11 21.77 21.16
#&gt; 4  22.59 22.29 24.37 22.28 24.61 23.13 22.64 22.96 23.42 22.23 21.74 21.34
#&gt; 5  22.41 22.41 24.40 22.70 23.80 23.31 22.73 23.07 23.41 23.15 21.76 21.44
#&gt; 6     NA 22.69    NA    NA    NA 23.47    NA    NA    NA 23.22    NA    NA
#&gt; 7  22.53 22.68 24.66 22.62 23.83 23.59 23.20 22.97 23.36 23.40 21.78 22.29
#&gt; 8  22.85 22.59 24.57 22.56 23.76 23.33 23.46 23.09 23.36 23.24 21.80 22.58
#&gt; 9  22.48 22.20 24.59 22.45 23.82 23.32 24.17 23.28 23.92 22.36 21.80 22.60
#&gt; 10 22.48 22.13 24.62 22.60 23.88 23.71 24.59 23.17 24.04 22.43 22.56 22.67
#&gt; 11 22.64 22.54 24.64 22.81 23.80 23.80 24.83 23.04 24.22 23.17 22.86 24.91
#&gt;     2007  2008  2009  2010  2011  2012
#&gt; 1  22.90 23.18 22.64 22.78 28.50 24.96
#&gt; 2  23.12 23.62 22.00 23.02 29.29 24.94
#&gt; 3  23.20 23.90 21.96 23.43 29.45 24.58
#&gt; 4  23.12 24.41 21.94 24.28 29.52 24.52
#&gt; 5  22.80 25.00 21.92 24.31 29.74 24.57
#&gt; 6     NA 24.68    NA    NA    NA 24.51
#&gt; 7  22.63 24.07 21.86 23.96 29.69 24.60
#&gt; 8  22.56 23.99 21.07 23.79 29.20 24.88
#&gt; 9  22.65 23.65 21.23 23.12 28.84 25.44
#&gt; 10 22.83 23.76 21.65 22.13 28.54 25.54
#&gt; 11 23.49 23.95 22.14 22.15 28.18 25.65</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Smit, A. J.

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Robert W. Schlegel, Eric C. J. Oliver, Albertus J. Smit.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  docsearch({
    
    
    apiKey: '2edc7627dae0471f3d765c3355bebbf3',
    indexName: 'heatwaver',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

